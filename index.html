<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=UTF-8" />
<title>Documentation by YARD 0.5.3</title>
<link rel="stylesheet" href="css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="_index.html" title="Index">Index</a> &raquo; 
    <span class="title">File: README</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><div id='filecontents'><h1>ripple</h1>
<p>ripple is a Ruby client/wrapper for Riak, Basho&#8217;s distributed database.</p>
<h2>Dependencies</h2>
<p>ripple requires ActiveSupport &gt;=2.3.  We highly recommend the <a href="http://curb.rubyforge.org/">curb</a> gem for better <span class="caps">HTTP</span> client performance.</p>
<p>In development, you will also need these gems:</p>
<ul>
	<li>jeweler</li>
	<li>rspec &gt;= 1.2.9</li>
	<li>fakeweb &gt;= 1.2</li>
	<li>curb &gt;= 0.6</li>
	<li>rack &gt;= 1.0</li>
	<li>yard &gt;= 0.5.2</li>
</ul>
<h2>Basic Example</h2>
<pre class="code"><span class='require identifier id'>require</span> <span class='string val'>'riak'</span>

<span class='comment val'># Create a client interface</span>
<span class='client identifier id'>client</span> <span class='assign token'>=</span> <span class='Riak constant id'>Riak</span><span class='colon2 op'>::</span><span class='Client constant id'>Client</span><span class='dot token'>.</span><span class='new identifier id'>new</span>

<span class='comment val'># Retrieve a bucket</span>
<span class='bucket identifier id'>bucket</span> <span class='assign token'>=</span> <span class='client identifier id'>client</span><span class='dot token'>.</span><span class='bucket identifier id'>bucket</span><span class='lparen token'>(</span><span class='string val'>&quot;doc&quot;</span><span class='rparen token'>)</span>  <span class='comment val'># a Riak::Bucket</span>

<span class='comment val'># Get an object from the bucket</span>
<span class='object identifier id'>object</span> <span class='assign token'>=</span> <span class='bucket identifier id'>bucket</span><span class='dot token'>.</span><span class='get identifier id'>get</span><span class='lparen token'>(</span><span class='string val'>&quot;index.html&quot;</span><span class='rparen token'>)</span>   <span class='comment val'># a Riak::RObject</span>

<span class='comment val'># Change the object's data and save</span>
<span class='object identifier id'>object</span><span class='dot token'>.</span><span class='data identifier id'>data</span> <span class='assign token'>=</span> <span class='string val'>&quot;&lt;html&gt;&lt;body&gt;Hello, world!&lt;/body&gt;&lt;/html&gt;&quot;</span>
<span class='object identifier id'>object</span><span class='dot token'>.</span><span class='store identifier id'>store</span>

<span class='comment val'># Reload an object you already have</span>
<span class='object identifier id'>object</span><span class='dot token'>.</span><span class='reload identifier id'>reload</span>                  <span class='comment val'># Works if you have the key and vclock</span>
<span class='object identifier id'>object</span><span class='dot token'>.</span><span class='reload identifier id'>reload</span> <span class='symbol val'>:force</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span>   <span class='comment val'># Reloads whether you have the vclock or not</span>

<span class='comment val'># Access more like a hash, client[bucket][key]</span>
<span class='client identifier id'>client</span><span class='lbrack token'>[</span><span class='string val'>'doc'</span><span class='rbrack token'>]</span><span class='lbrack token'>[</span><span class='string val'>'index.html'</span><span class='rbrack token'>]</span>   <span class='comment val'># the Riak::RObject</span>
</pre><h2>Map-Reduce Example</h2>
<pre class="code">

<span class='comment val'># Assuming you've already instantiated a client, get the album titles for The Beatles</span>
<span class='results identifier id'>results</span> <span class='assign token'>=</span> <span class='Riak constant id'>Riak</span><span class='colon2 op'>::</span><span class='MapReduce constant id'>MapReduce</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='client identifier id'>client</span><span class='rparen token'>)</span><span class='dot token'>.</span>
                <span class='add identifier id'>add</span><span class='lparen token'>(</span><span class='string val'>&quot;artists&quot;</span><span class='comma token'>,</span><span class='string val'>&quot;Beatles&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span>
                <span class='link identifier id'>link</span><span class='lparen token'>(</span><span class='symbol val'>:bucket</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;albums&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span>
                <span class='map identifier id'>map</span><span class='lparen token'>(</span><span class='string val'>&quot;function(v){ return [JSON.parse(v.values[0].data).title]; }&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:keep</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='true true kw'>true</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='run identifier id'>run</span>

<span class='p identifier id'>p</span> <span class='results identifier id'>results</span> <span class='comment val'># =&gt; [&quot;Please Please Me&quot;, &quot;With The Beatles&quot;, &quot;A Hard Day's Night&quot;, </span>
          <span class='comment val'>#     &quot;Beatles For Sale&quot;, &quot;Help!&quot;, &quot;Rubber Soul&quot;,</span>
          <span class='comment val'>#     &quot;Revolver&quot;, &quot;Sgt. Pepper's Lonely Hearts Club Band&quot;, &quot;Magical Mystery Tour&quot;, </span>
          <span class='comment val'>#     &quot;The Beatles&quot;, &quot;Yellow Submarine&quot;, &quot;Abbey Road&quot;, &quot;Let It Be&quot;]</span>
</pre><h2>How to Contribute</h2>
<ul>
	<li>Fork the project on <a href="http://github.com/seancribbs/ripple">Github</a>.  If you have already forked, use <code>git pull --rebase</code> to reapply your changes on top of the mainline. Example:
  <pre class="code">$ <span class='git identifier id'>git</span> <span class='checkout identifier id'>checkout</span> <span class='master identifier id'>master</span>
$ <span class='git identifier id'>git</span> <span class='pull identifier id'>pull</span> <span class='minus op'>-</span><span class='minus op'>-</span><span class='rebase identifier id'>rebase</span> <span class='seancribbs identifier id'>seancribbs</span> <span class='master identifier id'>master</span>
</pre></li>
	<li>Create a topic branch. If you&#8217;ve already created a topic branch, rebase it on top of changes from the mainline &#8220;master&#8221; branch. Examples:
	<ul>
		<li>New branch:
  <pre class="code">$ <span class='git identifier id'>git</span> <span class='checkout identifier id'>checkout</span> <span class='minus op'>-</span><span class='b identifier id'>b</span> <span class='topic identifier id'>topic</span>
</pre></li>
		<li>Existing branch:
  <pre class="code">$ <span class='git identifier id'>git</span> <span class='rebase identifier id'>rebase</span> <span class='master identifier id'>master</span>
</pre></li>
	</ul></li>
	<li>Write an RSpec example, set of examples, and/or Cucumber story that demonstrate the necessity and validity of your changes. <strong>Patches without specs will most often be ignored. Just do it, you&#8217;ll thank me later.</strong> Documentation patches need no specs, of course.</li>
	<li>Make your feature addition or bug fix. Make your specs and stories pass (green).</li>
	<li>Run the suite using multiruby or rvm to ensure cross-version compatibility.</li>
	<li>Commit, do not mess with Rakefile or <span class="caps">VERSION</span>.  If related to an existing issue in the <a href="http://github.com/seancribbs/ripple/issues">tracker</a>, include &#8220;Closes #X&#8221; in the commit message (where X is the issue number).</li>
	<li>Send me a pull request.</li>
</ul>
<h2>License &amp; Copyright</h2>
<p>Copyright &copy;2010 Sean Cribbs, Sonian Inc., and Basho Technologies, Inc.</p>
<p>Licensed under the Apache License, Version 2.0 (the &#8220;License&#8221;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/<span class="caps">LICENSE</span>-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &#8220;AS IS&#8221; <span class="caps">BASIS</span>,
<span class="caps">WITHOUT</span> <span class="caps">WARRANTIES</span> OR <span class="caps">CONDITIONS</span> OF <span class="caps">ANY</span> <span class="caps">KIND</span>, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
<h2>Auxillary License</h2>
<p>The included photo (spec/fixtures/cat.jpg) is Copyright &copy;2009 <a href="http://seancribbs.com/">Sean Cribbs</a>, and is 
licensed under the <a href="http://creativecommons.org/licenses/by-nc/3.0">Creative Commons Attribution Non-Commercial 3.0</a> license. <img src="http://i.creativecommons.org/l/by-nc/3.0/88x31.png" alt="" /></p></div></div>
    
    <div id="footer">
  Generated on Wed Jan 27 12:18:42 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.3 (ruby-1.8.6).
</div>

  </body>
</html>