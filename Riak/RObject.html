<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: Riak::RObject</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo; 
    <span class='title'><a href="../Riak.html" title="Riak (module)">Riak</a></span>
     &raquo; 
    <span class="title">RObject</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: Riak::RObject 
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><a href="../Object.html" title="Object (class)">Object</a></span>
      
        <ul class="fullTree">
          <li><a href="../Object.html" title="Object (class)">Object</a></li>
          
            <li class="next">Riak::RObject</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
      <dt class="r2">Includes:</dt>
      <dd class="r2"><a href="Util.html" title="Riak::Util (module)">Util</a>, <a href="Util/Escape.html" title="Riak::Util::Escape (module)">Util::Escape</a>, <a href="Util/Translation.html" title="Riak::Util::Translation (module)">Util::Translation</a></dd>
      
    
  
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">riak-client/lib/riak/robject.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
Parent class of all object types supported by ripple. <tt><a href="" title="Riak::RObject (class)">Riak::RObject</a></tt>
represents the data and metadata stored in a bucket/key pair in the Riak
database.
</p>


  </div>
</div>
<div class="tags">
  
</div>

  
  
  
  
  
  
  
  
  
  
  
  
  <h2>Instance Attribute Summary</h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#bucket-instance_method" title="#bucket (instance method)">- (Bucket) <strong>bucket</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The bucket in which this object is contained.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#content_type-instance_method" title="#content_type (instance method)">- (String) <strong>content_type</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The MIME content type of the object.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#data-instance_method" title="#data (instance method)">- (Object) <strong>data</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The data stored in Riak at this object&#8217;s key.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#etag-instance_method" title="#etag (instance method)">- (String) <strong>etag</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The ETag header from the most recent HTTP response, useful for caching and
reloading.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#key-instance_method" title="#key (instance method)">- (String) <strong>key</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The key of this object within its bucket.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#last_modified-instance_method" title="#last_modified (instance method)">- (Time) <strong>last_modified</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The Last-Modified header from the most recent HTTP response, useful for
caching and reloading.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#links-instance_method" title="#links (instance method)">- (Set&lt;Link&gt;) <strong>links</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
An Set of <tt><a href="Link.html" title="Riak::Link (class)">Riak::Link</a></tt> objects for relationships between this object and
other resources.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#meta-instance_method" title="#meta (instance method)">- (Hash) <strong>meta</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A hash of any X-Riak-Meta-* headers that were in the HTTP response, keyed
on the trailing portion.
</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#vclock-instance_method" title="#vclock (instance method)">- (String) <strong>vclock</strong> </a>
    

    
  </span>
  
  
    
    
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
The Riak vector clock for the object.
</p>
</div></span>
  
</li>

    
  </ul>


  
    <h2>Instance Method Summary</h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#conflict%3F-instance_method" title="#conflict? (instance method)">- (true, false) <strong>conflict?</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Whether this object has conflicting sibling objects (divergent vclocks).
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">- (Object) <strong>delete</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Delete the object from Riak and freeze this instance.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deserialize-instance_method" title="#deserialize (instance method)">- (Object) <strong>deserialize</strong>(body) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Deserializes the internal object data from a Riak response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (RObject) <strong>initialize</strong>(bucket, key = nil) {|_self| ... }</a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Create a new object manually.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#inspect-instance_method" title="#inspect (instance method)">- (String) <strong>inspect</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A representation suitable for IRB and debugging output.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#load-instance_method" title="#load (instance method)">- (Object) <strong>load</strong>(response) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Load object data from an HTTP response.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reload-instance_method" title="#reload (instance method)">- (Riak::RObject) <strong>reload</strong>(options = {}) </a>
    

    
      (also: #fetch)
    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Reload the object from Riak.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#reload_headers-instance_method" title="#reload_headers (instance method)">- (Hash) <strong>reload_headers</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
HTTP header hash that will be sent along when reloading the object.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#serialize-instance_method" title="#serialize (instance method)">- (Object) <strong>serialize</strong>(payload) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Serializes the internal object data for sending to Riak.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#siblings-instance_method" title="#siblings (instance method)">- (Array&lt;RObject&gt;, self) <strong>siblings</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Returns sibling objects when in conflict.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store-instance_method" title="#store (instance method)">- (Riak::RObject) <strong>store</strong>(options = {}) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Store the object in Riak.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#store_headers-instance_method" title="#store_headers (instance method)">- (Hash) <strong>store_headers</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
HTTP header hash that will be sent along when storing the object.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_link-instance_method" title="#to_link (instance method)">- (Object) <strong>to_link</strong>(tag) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Converts the object to a link suitable for linking other objects to it.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#url-instance_method" title="#url (instance method)">- (Object) <strong>url</strong> </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Generates a URL representing the object according to the client, bucket and
key.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#walk-instance_method" title="#walk (instance method)">- (Object) <strong>walk</strong>(*params) </a>
    

    
  </span>
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Walks links from this object to other objects in Riak.
</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Util/Translation.html" title="Riak::Util::Translation (module)">Util::Translation</a></h3>
  <p class="inherited"><a href="Util/Translation.html#i18n_scope-instance_method" title="Riak::Util::Translation#i18n_scope (method)">#i18n_scope</a>, <a href="Util/Translation.html#t-instance_method" title="Riak::Util::Translation#t (method)">#t</a></p>

  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <a href="Util/Escape.html" title="Riak::Util::Escape (module)">Util::Escape</a></h3>
  <p class="inherited"><a href="Util/Escape.html#escape-instance_method" title="Riak::Util::Escape#escape (method)">#escape</a></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><a href="" title="Riak::RObject (class)">RObject</a></tt>) <strong>initialize</strong>(bucket, key = nil) {|_self| ... }
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Create a new object manually
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><a href="Bucket.html" title="Riak::Bucket (class)">Bucket</a></tt>)</span>
      
      
        <span class='name'>bucket</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the bucket in which the object exists
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt><a href="../String.html" title="String (class)">String</a></tt>)</span>
      
      
        <span class='name'>key</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
the key at which the object resides. If nil, a key will be assigned when
the object is saved.
</p>
</div>
      
    </li>
  
</ul>
<h3>Yields:</h3>
<ul class="yield">
  
    <li>
      
        <span class='type'>(<tt>_self</tt>)</span>
      
      
      
      
    </li>
  
</ul>
<h3>Yield Parameters:</h3>
<ul class="yieldparam">
  
    <li>
      
        <span class='type'>(<tt><a href="" title="Riak::RObject (class)">Riak::RObject</a></tt>)</span>
      
      
        <span class='name'>_self</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the object that the method was called on
</p>
</div>
      
    </li>
  
</ul>

  <h3>See Also:</h3>
  <ul class="see">
    
      <li><a href="Bucket.html#get-instance_method" title="Riak::Bucket#get (method)">Bucket#get</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


57
58
59
60
61</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 57</span>

<span class='kw'>def</span> <span class='id initialize'>initialize</span><span class='lparen'>(</span><span class='id bucket'>bucket</span><span class='comma'>,</span> <span class='id key'>key</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@bucket</span><span class='comma'>,</span> <span class='ivar'>@key</span> <span class='op'>=</span> <span class='id bucket'>bucket</span><span class='comma'>,</span> <span class='id key'>key</span>
  <span class='ivar'>@links</span><span class='comma'>,</span> <span class='ivar'>@meta</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id new'>new</span><span class='comma'>,</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>yield</span> <span class='kw'>self</span> <span class='kw'>if</span> <span class='id block_given?'>block_given?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="bucket=-instance_method"></span>
      <span id="bucket-instance_method"></span>
      <div class="method_details first">
  <p class="signature first" id="bucket-instance_method">
  
    - (<tt><a href="Bucket.html" title="Riak::Bucket (class)">Bucket</a></tt>) <strong>bucket</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The bucket in which this object is contained
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="Bucket.html" title="Riak::Bucket (class)">Bucket</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
the bucket in which this object is contained
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


26
27
28</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 26</span>

<span class='kw'>def</span> <span class='id bucket'>bucket</span>
  <span class='ivar'>@bucket</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="content_type=-instance_method"></span>
      <span id="content_type-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="content_type-instance_method">
  
    - (<tt><a href="../String.html" title="String (class)">String</a></tt>) <strong>content_type</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The MIME content type of the object
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../String.html" title="String (class)">String</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
the MIME content type of the object
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 32</span>

<span class='kw'>def</span> <span class='id content_type'>content_type</span>
  <span class='ivar'>@content_type</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="data=-instance_method"></span>
      <span id="data-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="data-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>data</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The data stored in Riak at this object&#8217;s key. Varies in format by
content-type, defaulting to String from the response body.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../Object.html" title="Object (class)">Object</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
the data stored in Riak at this object&#8217;s key. Varies in format by
content-type, defaulting to String from the response body.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 39</span>

<span class='kw'>def</span> <span class='id data'>data</span>
  <span class='ivar'>@data</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="etag=-instance_method"></span>
      <span id="etag-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="etag-instance_method">
  
    - (<tt><a href="../String.html" title="String (class)">String</a></tt>) <strong>etag</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The ETag header from the most recent HTTP response, useful for caching and
reloading
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../String.html" title="String (class)">String</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
the ETag header from the most recent HTTP response, useful for caching and
reloading
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


45
46
47</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 45</span>

<span class='kw'>def</span> <span class='id etag'>etag</span>
  <span class='ivar'>@etag</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="key=-instance_method"></span>
      <span id="key-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="key-instance_method">
  
    - (<tt><a href="../String.html" title="String (class)">String</a></tt>) <strong>key</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The key of this object within its bucket
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../String.html" title="String (class)">String</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
the key of this object within its bucket
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 29</span>

<span class='kw'>def</span> <span class='id key'>key</span>
  <span class='ivar'>@key</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="last_modified=-instance_method"></span>
      <span id="last_modified-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="last_modified-instance_method">
  
    - (<tt><a href="../Time.html" title="Time (class)">Time</a></tt>) <strong>last_modified</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The Last-Modified header from the most recent HTTP response, useful for
caching and reloading
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../Time.html" title="Time (class)">Time</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
the Last-Modified header from the most recent HTTP response, useful for
caching and reloading
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 48</span>

<span class='kw'>def</span> <span class='id last_modified'>last_modified</span>
  <span class='ivar'>@last_modified</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="links=-instance_method"></span>
      <span id="links-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="links-instance_method">
  
    - (<tt>Set&lt;<a href="Link.html" title="Riak::Link (class)">Link</a>&gt;</tt>) <strong>links</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
An Set of <tt><a href="Link.html" title="Riak::Link (class)">Riak::Link</a></tt> objects for relationships between this object and
other resources
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Set&lt;<a href="Link.html" title="Riak::Link (class)">Link</a>&gt;</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
an Set of <tt><a href="Link.html" title="Riak::Link (class)">Riak::Link</a></tt> objects for relationships between this object and
other resources
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


42
43
44</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 42</span>

<span class='kw'>def</span> <span class='id links'>links</span>
  <span class='ivar'>@links</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="meta=-instance_method"></span>
      <span id="meta-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="meta-instance_method">
  
    - (<tt>Hash</tt>) <strong>meta</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A hash of any X-Riak-Meta-* headers that were in the HTTP response, keyed
on the trailing portion
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
a hash of any X-Riak-Meta-* headers that were in the HTTP response, keyed
on the trailing portion
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


51
52
53</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 51</span>

<span class='kw'>def</span> <span class='id meta'>meta</span>
  <span class='ivar'>@meta</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="vclock=-instance_method"></span>
      <span id="vclock-instance_method"></span>
      <div class="method_details ">
  <p class="signature " id="vclock-instance_method">
  
    - (<tt><a href="../String.html" title="String (class)">String</a></tt>) <strong>vclock</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
The Riak vector clock for the object
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../String.html" title="String (class)">String</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
the Riak vector clock for the object
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 35</span>

<span class='kw'>def</span> <span class='id vclock'>vclock</span>
  <span class='ivar'>@vclock</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="conflict?-instance_method">
  
    - (<tt>true</tt>, <tt>false</tt>) <strong>conflict?</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Whether this object has conflicting sibling objects (divergent vclocks)
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>true</tt>, <tt>false</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
Whether this object has conflicting sibling objects (divergent vclocks)
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 164</span>

<span class='kw'>def</span> <span class='id conflict?'>conflict?</span>
  <span class='ivar'>@conflict</span><span class='period'>.</span><span class='id present?'>present?</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="delete-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>delete</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Delete the object from Riak and freeze this instance.  Will work whether or
not the object actually exists in the Riak database.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 144</span>

<span class='kw'>def</span> <span class='id delete'>delete</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id key'>key</span><span class='period'>.</span><span class='id blank?'>blank?</span>
  <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='id key'>key</span><span class='rparen'>)</span>
  <span class='id freeze'>freeze</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="deserialize-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>deserialize</strong>(body) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Deserializes the internal object data from a Riak response. Differs based
on the content-type. This method is called internally when loading the
object. Automatically deserialized formats:
</p>
<ul>
<li><p>
JSON (application/json)
</p>
</li>
<li><p>
YAML (text/yaml)
</p>
</li>
<li><p>
Marshal (application/octet-stream if meta[&#8216;ruby-serialization&#8217;]
== &#8220;Marshal&#8221;)
</p>
</li>
</ul>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><a href="../String.html" title="String (class)">String</a></tt>)</span>
      
      
        <span class='name'>body</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the serialized response body
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 200</span>

<span class='kw'>def</span> <span class='id deserialize'>deserialize</span><span class='lparen'>(</span><span class='id body'>body</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='ivar'>@content_type</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>json</span><span class='regexp_end'>/</span></span>
    <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>JSON</span><span class='period'>.</span><span class='id decode'>decode</span><span class='lparen'>(</span><span class='id body'>body</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>yaml</span><span class='regexp_end'>/</span></span>
    <span class='const'>YAML</span><span class='period'>.</span><span class='id load'>load</span><span class='lparen'>(</span><span class='id body'>body</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application/octet-stream</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='ivar'>@meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ruby-serialization</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Marshal</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Marshal</span><span class='period'>.</span><span class='id load'>load</span><span class='lparen'>(</span><span class='id body'>body</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id body'>body</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id body'>body</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="inspect-instance_method">
  
    - (<tt><a href="../String.html" title="String (class)">String</a></tt>) <strong>inspect</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A representation suitable for IRB and debugging output
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="../String.html" title="String (class)">String</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
A representation suitable for IRB and debugging output
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


218
219
220</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 218</span>

<span class='kw'>def</span> <span class='id inspect'>inspect</span>
  <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#&lt;</span><span class='embexpr_beg'>#{</span><span class='kw'>self</span><span class='period'>.</span><span class='id class'>class</span><span class='period'>.</span><span class='id name'>name</span><span class='rbrace'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id url'>url</span><span class='rbrace'>}</span><span class='tstring_content'> [</span><span class='embexpr_beg'>#{</span><span class='ivar'>@content_type</span><span class='rbrace'>}</span><span class='tstring_content'>]:</span><span class='embexpr_beg'>#{</span><span class='ivar'>@data</span><span class='period'>.</span><span class='id inspect'>inspect</span><span class='rbrace'>}</span><span class='tstring_content'>&gt;</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="load-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>load</strong>(response) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Load object data from an HTTP response
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>response</span>
      
      
      
        &mdash;
        <div class='inline'><p>
a response from <tt><a href="Client/HTTPBackend.html" title="Riak::Client::HTTPBackend (class)">Riak::Client::HTTPBackend</a></tt>
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 65</span>

<span class='kw'>def</span> <span class='id load'>load</span><span class='lparen'>(</span><span class='id response'>response</span><span class='rparen'>)</span>
  <span class='id extract_header'>extract_header</span><span class='lparen'>(</span><span class='id response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>location</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:key</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id v'>v</span><span class='op'>|</span> <span class='const'>URI</span><span class='period'>.</span><span class='id unescape'>unescape</span><span class='lparen'>(</span><span class='id v'>v</span><span class='period'>.</span><span class='id split'>split</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id last'>last</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id extract_header'>extract_header</span><span class='lparen'>(</span><span class='id response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content-type</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:content_type</span><span class='rparen'>)</span>
  <span class='id extract_header'>extract_header</span><span class='lparen'>(</span><span class='id response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>x-riak-vclock</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:vclock</span><span class='rparen'>)</span>
  <span class='id extract_header'>extract_header</span><span class='lparen'>(</span><span class='id response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>link</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:links</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id v'>v</span><span class='op'>|</span> <span class='const'>Set</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='const'>Link</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='id v'>v</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='id extract_header'>extract_header</span><span class='lparen'>(</span><span class='id response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>etag</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:etag</span><span class='rparen'>)</span>
  <span class='id extract_header'>extract_header</span><span class='lparen'>(</span><span class='id response'>response</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>last-modified</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='symbol'>:last_modified</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id v'>v</span><span class='op'>|</span> <span class='const'>Time</span><span class='period'>.</span><span class='id httpdate'>httpdate</span><span class='lparen'>(</span><span class='id v'>v</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='ivar'>@meta</span> <span class='op'>=</span> <span class='id response'>response</span><span class='lbracket'>[</span><span class='symbol'>:headers</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id inject'>inject</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id h'>h</span><span class='comma'>,</span><span class='lparen'>(</span><span class='id k'>k</span><span class='comma'>,</span><span class='id v'>v</span><span class='rparen'>)</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id k'>k</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>x-riak-meta-(.*)</span><span class='regexp_end'>/</span></span>
      <span class='id h'>h</span><span class='lbracket'>[</span><span class='backref'>$1</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id v'>v</span>
    <span class='kw'>end</span>
    <span class='id h'>h</span>
  <span class='kw'>end</span>
  <span class='ivar'>@conflict</span> <span class='op'>=</span> <span class='id response'>response</span><span class='lbracket'>[</span><span class='symbol'>:code</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id try'>try</span><span class='lparen'>(</span><span class='symbol'>:to_i</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>300</span> <span class='op'>&amp;&amp;</span> <span class='id content_type'>content_type</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>multipart\/mixed</span><span class='regexp_end'>/</span></span>
  <span class='ivar'>@siblings</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@data</span> <span class='op'>=</span> <span class='id deserialize'>deserialize</span><span class='lparen'>(</span><span class='id response'>response</span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id response'>response</span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id present?'>present?</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reload-instance_method">
  
    - (<tt><a href="" title="Riak::RObject (class)">Riak::RObject</a></tt>) <strong>reload</strong>(options = {}) 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='fetch-instance_method'>fetch</span></span>
    </span>
  
</p><div class="docstring">
  <div class="discussion">
    <p>
Reload the object from Riak.  Will use conditional GETs when possible.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>options</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
query parameters
</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <h3>Options Hash (<tt>options</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="type">(<tt>Fixnum</tt>)</span>
          <span class="name">:r</span>
          <span class="default">
            
              <span class="na">N/A</span>
            
          </span>
          &mdash;<div class='inline'><p>
the &#8220;r&#8221; parameter (Read quorum)
</p>
</div>
        </tr>
      
        <li>
          <span class="type">(<tt><a href="../Boolean.html" title="Boolean (module)">Boolean</a></tt>)</span>
          <span class="name">:force</span>
          <span class="default">
            
              <span class="na">N/A</span>
            
          </span>
          &mdash;<div class='inline'><p>
will force a reload request if the vclock is not present, useful for
reloading the object after a store (not passed in the query params)
</p>
</div>
        </tr>
      
    </ul>
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="" title="Riak::RObject (class)">Riak::RObject</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
self
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133
134
135
136
137
138</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 131</span>

<span class='kw'>def</span> <span class='id reload'>reload</span><span class='lparen'>(</span><span class='id options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id force'>force</span> <span class='op'>=</span> <span class='id options'>options</span><span class='period'>.</span><span class='id delete'>delete</span><span class='lparen'>(</span><span class='symbol'>:force</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>self</span> <span class='kw'>unless</span> <span class='ivar'>@key</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='ivar'>@vclock</span> <span class='op'>||</span> <span class='id force'>force</span><span class='rparen'>)</span>
  <span class='id codes'>codes</span> <span class='op'>=</span> <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id allow_mult'>allow_mult</span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='int'>200</span><span class='comma'>,</span><span class='int'>300</span><span class='comma'>,</span><span class='int'>304</span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='int'>200</span><span class='comma'>,</span><span class='int'>304</span><span class='rbracket'>]</span>
  <span class='id response'>response</span> <span class='op'>=</span> <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id http'>http</span><span class='period'>.</span><span class='id get'>get</span><span class='lparen'>(</span><span class='id codes'>codes</span><span class='comma'>,</span> <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id prefix'>prefix</span><span class='comma'>,</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@bucket</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@key</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id options'>options</span><span class='comma'>,</span> <span class='id reload_headers'>reload_headers</span><span class='rparen'>)</span>
  <span class='id load'>load</span><span class='lparen'>(</span><span class='id response'>response</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id response'>response</span><span class='lbracket'>[</span><span class='symbol'>:code</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='int'>304</span>
  <span class='kw'>self</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="reload_headers-instance_method">
  
    - (<tt>Hash</tt>) <strong>reload_headers</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
HTTP header hash that will be sent along when reloading the object
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
hash of HTTP headers
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 103</span>

<span class='kw'>def</span> <span class='id reload_headers'>reload_headers</span>
  <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id h'>h</span><span class='op'>|</span>
    <span class='id h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>If-None-Match</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@etag</span> <span class='kw'>if</span> <span class='ivar'>@etag</span><span class='period'>.</span><span class='id present?'>present?</span>
    <span class='id h'>h</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>If-Modified-Since</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@last_modified</span><span class='period'>.</span><span class='id httpdate'>httpdate</span> <span class='kw'>if</span> <span class='ivar'>@last_modified</span><span class='period'>.</span><span class='id present?'>present?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="serialize-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>serialize</strong>(payload) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Serializes the internal object data for sending to Riak. Differs based on
the content-type. This method is called internally when storing the object.
Automatically serialized formats:
</p>
<ul>
<li><p>
JSON (application/json)
</p>
</li>
<li><p>
YAML (text/yaml)
</p>
</li>
<li><p>
Marshal (application/octet-stream if meta[&#8216;ruby-serialization&#8217;]
== &#8220;Marshal&#8221;)
</p>
</li>
</ul>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><a href="../Object.html" title="Object (class)">Object</a></tt>)</span>
      
      
        <span class='name'>payload</span>
      
      
      
        &mdash;
        <div class='inline'><p>
the data to serialize
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 175</span>

<span class='kw'>def</span> <span class='id serialize'>serialize</span><span class='lparen'>(</span><span class='id payload'>payload</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id payload'>payload</span> <span class='kw'>if</span> <span class='const'>IO</span> <span class='op'>===</span> <span class='id payload'>payload</span>
  <span class='kw'>case</span> <span class='ivar'>@content_type</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>json</span><span class='regexp_end'>/</span></span>
    <span class='const'>ActiveSupport</span><span class='op'>::</span><span class='const'>JSON</span><span class='period'>.</span><span class='id encode'>encode</span><span class='lparen'>(</span><span class='id payload'>payload</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>yaml</span><span class='regexp_end'>/</span></span>
    <span class='const'>YAML</span><span class='period'>.</span><span class='id dump'>dump</span><span class='lparen'>(</span><span class='id payload'>payload</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>application/octet-stream</span><span class='tstring_end'>&quot;</span></span>
    <span class='kw'>if</span> <span class='ivar'>@meta</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>ruby-serialization</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Marshal</span><span class='tstring_end'>&quot;</span></span>
      <span class='const'>Marshal</span><span class='period'>.</span><span class='id dump'>dump</span><span class='lparen'>(</span><span class='id payload'>payload</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id payload'>payload</span><span class='period'>.</span><span class='id to_s'>to_s</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id payload'>payload</span><span class='period'>.</span><span class='id to_s'>to_s</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="siblings-instance_method">
  
    - (<tt>Array&lt;<a href="" title="Riak::RObject (class)">RObject</a>&gt;</tt>, <tt>self</tt>) <strong>siblings</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Returns sibling objects when in conflict.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Array&lt;<a href="" title="Riak::RObject (class)">RObject</a>&gt;</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
an array of conflicting sibling objects for this key
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'>(<tt>self</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
this object when not in conflict
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156
157
158
159
160
161</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 153</span>

<span class='kw'>def</span> <span class='id siblings'>siblings</span>
  <span class='kw'>return</span> <span class='kw'>self</span> <span class='kw'>unless</span> <span class='id conflict?'>conflict?</span>
  <span class='ivar'>@siblings</span> <span class='op'>||=</span> <span class='const'>Multipart</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='id data'>data</span><span class='comma'>,</span> <span class='const'>Multipart</span><span class='period'>.</span><span class='id extract_boundary'>extract_boundary</span><span class='lparen'>(</span><span class='id content_type'>content_type</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id part'>part</span><span class='op'>|</span>
    <span class='const'>RObject</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id bucket'>bucket</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id key'>key</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id sibling'>sibling</span><span class='op'>|</span>
      <span class='id sibling'>sibling</span><span class='period'>.</span><span class='id load'>load</span><span class='lparen'>(</span><span class='id part'>part</span><span class='rparen'>)</span>
      <span class='id sibling'>sibling</span><span class='period'>.</span><span class='id vclock'>vclock</span> <span class='op'>=</span> <span class='id vclock'>vclock</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="store-instance_method">
  
    - (<tt><a href="" title="Riak::RObject (class)">Riak::RObject</a></tt>) <strong>store</strong>(options = {}) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Store the object in Riak
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <span class='name'>options</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>
query parameters
</p>
</div>
      
    </li>
  
</ul>

  
    
    
    <h3>Options Hash (<tt>options</tt>):</h3>
    <ul class="option">
      
        <li>
          <span class="type">(<tt>Fixnum</tt>)</span>
          <span class="name">:r</span>
          <span class="default">
            
              <span class="na">N/A</span>
            
          </span>
          &mdash;<div class='inline'><p>
the &#8220;r&#8221; parameter (Read quorum for the implicit read performed
when validating the store operation)
</p>
</div>
        </tr>
      
        <li>
          <span class="type">(<tt>Fixnum</tt>)</span>
          <span class="name">:w</span>
          <span class="default">
            
              <span class="na">N/A</span>
            
          </span>
          &mdash;<div class='inline'><p>
the &#8220;w&#8221; parameter (Write quorum)
</p>
</div>
        </tr>
      
        <li>
          <span class="type">(<tt>Fixnum</tt>)</span>
          <span class="name">:dw</span>
          <span class="default">
            
              <span class="na">N/A</span>
            
          </span>
          &mdash;<div class='inline'><p>
the &#8220;dw&#8221; parameter (Durable-write quorum)
</p>
</div>
        </tr>
      
        <li>
          <span class="type">(<tt><a href="../Boolean.html" title="Boolean (module)">Boolean</a></tt>)</span>
          <span class="name">:returnbody</span>
          <span class="default">
            
              &mdash; default:
              <tt>true</tt>
            
          </span>
          &mdash;<div class='inline'><p>
whether to return the result of a successful write in the body of the
response. Set to false for fire-and-forget updates, set to true to
immediately have access to the object&#8217;s stored representation.
</p>
</div>
        </tr>
      
    </ul>
  
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt><a href="" title="Riak::RObject (class)">Riak::RObject</a></tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
self
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
if the content_type is not defined
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 118</span>

<span class='kw'>def</span> <span class='id store'>store</span><span class='lparen'>(</span><span class='id options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id raise'>raise</span> <span class='const'>ArgumentError</span><span class='comma'>,</span> <span class='id t'>t</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>content_type_undefined</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@content_type</span><span class='period'>.</span><span class='id present?'>present?</span>
  <span class='id params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:returnbody</span> <span class='op'>=&gt;</span> <span class='kw'>true</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id merge'>merge</span><span class='lparen'>(</span><span class='id options'>options</span><span class='rparen'>)</span>
  <span class='id method'>method</span><span class='comma'>,</span> <span class='id codes'>codes</span><span class='comma'>,</span> <span class='id path'>path</span> <span class='op'>=</span> <span class='ivar'>@key</span><span class='period'>.</span><span class='id present?'>present?</span> <span class='op'>?</span> <span class='lbracket'>[</span><span class='symbol'>:put</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='int'>200</span><span class='comma'>,</span><span class='int'>204</span><span class='comma'>,</span><span class='int'>300</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@bucket</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_content'>/</span><span class='embexpr_beg'>#{</span><span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@key</span><span class='rparen'>)</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>:</span> <span class='lbracket'>[</span><span class='symbol'>:post</span><span class='comma'>,</span> <span class='int'>201</span><span class='comma'>,</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@bucket</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='id response'>response</span> <span class='op'>=</span> <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id http'>http</span><span class='period'>.</span><span class='id send'>send</span><span class='lparen'>(</span><span class='id method'>method</span><span class='comma'>,</span> <span class='id codes'>codes</span><span class='comma'>,</span> <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id prefix'>prefix</span><span class='comma'>,</span> <span class='id path'>path</span><span class='comma'>,</span> <span class='id params'>params</span><span class='comma'>,</span> <span class='id serialize'>serialize</span><span class='lparen'>(</span><span class='id data'>data</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id store_headers'>store_headers</span><span class='rparen'>)</span>
  <span class='id load'>load</span><span class='lparen'>(</span><span class='id response'>response</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="store_headers-instance_method">
  
    - (<tt>Hash</tt>) <strong>store_headers</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
HTTP header hash that will be sent along when storing the object
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
      
        &mdash;
        <div class='inline'><p>
hash of HTTP Headers
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


86
87
88
89
90
91
92
93
94
95
96
97
98
99</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 86</span>

<span class='kw'>def</span> <span class='id store_headers'>store_headers</span>
  <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id tap'>tap</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id hash'>hash</span><span class='op'>|</span>
    <span class='id hash'>hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@content_type</span>
    <span class='id hash'>hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-Riak-Vclock</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@vclock</span> <span class='kw'>if</span> <span class='ivar'>@vclock</span>
    <span class='kw'>unless</span> <span class='ivar'>@links</span><span class='period'>.</span><span class='id blank?'>blank?</span>
      <span class='id hash'>hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Link</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@links</span><span class='period'>.</span><span class='id reject'>reject</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id l'>l</span><span class='op'>|</span> <span class='id l'>l</span><span class='period'>.</span><span class='id rel'>rel</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>up</span><span class='tstring_end'>&quot;</span></span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_s</span><span class='rparen'>)</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>, </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>unless</span> <span class='ivar'>@meta</span><span class='period'>.</span><span class='id blank?'>blank?</span>
      <span class='ivar'>@meta</span><span class='period'>.</span><span class='id each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id k'>k</span><span class='comma'>,</span><span class='id v'>v</span><span class='op'>|</span>
        <span class='id hash'>hash</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>X-Riak-Meta-</span><span class='embexpr_beg'>#{</span><span class='id k'>k</span><span class='rbrace'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id v'>v</span><span class='period'>.</span><span class='id to_s'>to_s</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_link-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>to_link</strong>(tag) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Converts the object to a link suitable for linking other objects to it
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


236
237
238</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 236</span>

<span class='kw'>def</span> <span class='id to_link'>to_link</span><span class='lparen'>(</span><span class='id tag'>tag</span><span class='rparen'>)</span>
  <span class='const'>Link</span><span class='period'>.</span><span class='id new'>new</span><span class='lparen'>(</span><span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id http'>http</span><span class='period'>.</span><span class='id path'>path</span><span class='lparen'>(</span><span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id prefix'>prefix</span><span class='comma'>,</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@bucket</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@key</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='period'>.</span><span class='id path'>path</span><span class='comma'>,</span> <span class='id tag'>tag</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="url-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>url</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Generates a URL representing the object according to the client, bucket and
key. If the key is blank, the bucket URL will be returned (where the object
will be submitted to when stored).
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


243
244
245
246
247</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 243</span>

<span class='kw'>def</span> <span class='id url'>url</span>
  <span class='id segments'>segments</span> <span class='op'>=</span> <span class='lbracket'>[</span> <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id prefix'>prefix</span><span class='comma'>,</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@bucket</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='id segments'>segments</span> <span class='op'>&lt;&lt;</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@key</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@key</span>
  <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id http'>http</span><span class='period'>.</span><span class='id path'>path</span><span class='lparen'>(</span><span class='op'>*</span><span class='id segments'>segments</span><span class='rparen'>)</span><span class='period'>.</span><span class='id to_s'>to_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="walk-instance_method">
  
    - (<tt><a href="../Object.html" title="Object (class)">Object</a></tt>) <strong>walk</strong>(*params) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Walks links from this object to other objects in Riak.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


223
224
225
226
227
228
229
230
231
232
233</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'riak-client/lib/riak/robject.rb', line 223</span>

<span class='kw'>def</span> <span class='id walk'>walk</span><span class='lparen'>(</span><span class='op'>*</span><span class='id params'>params</span><span class='rparen'>)</span>
  <span class='id specs'>specs</span> <span class='op'>=</span> <span class='const'>WalkSpec</span><span class='period'>.</span><span class='id normalize'>normalize</span><span class='lparen'>(</span><span class='op'>*</span><span class='id params'>params</span><span class='rparen'>)</span>
  <span class='id response'>response</span> <span class='op'>=</span> <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id http'>http</span><span class='period'>.</span><span class='id get'>get</span><span class='lparen'>(</span><span class='int'>200</span><span class='comma'>,</span> <span class='ivar'>@bucket</span><span class='period'>.</span><span class='id client'>client</span><span class='period'>.</span><span class='id prefix'>prefix</span><span class='comma'>,</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@bucket</span><span class='period'>.</span><span class='id name'>name</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id escape'>escape</span><span class='lparen'>(</span><span class='ivar'>@key</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id specs'>specs</span><span class='period'>.</span><span class='id join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>/</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id boundary'>boundary</span> <span class='op'>=</span> <span class='const'>Multipart</span><span class='period'>.</span><span class='id extract_boundary'>extract_boundary</span><span class='lparen'>(</span><span class='id response'>response</span><span class='lbracket'>[</span><span class='symbol'>:headers</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>'</span><span class='tstring_content'>content-type</span><span class='tstring_end'>'</span></span><span class='rbracket'>]</span><span class='period'>.</span><span class='id first'>first</span><span class='rparen'>)</span>
    <span class='const'>Multipart</span><span class='period'>.</span><span class='id parse'>parse</span><span class='lparen'>(</span><span class='id response'>response</span><span class='lbracket'>[</span><span class='symbol'>:body</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id boundary'>boundary</span><span class='rparen'>)</span><span class='period'>.</span><span class='id map'>map</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id group'>group</span><span class='op'>|</span>
      <span class='id map_walk_group'>map_walk_group</span><span class='lparen'>(</span><span class='id group'>group</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Tue Jun  8 17:21:09 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.4 (ruby-1.9.1).
</div>

  </body>
</html>